<section id="testimonials" class="testimonials-section animate-on-scroll">
    <div class="testimonials-background">
        <!-- Background image handled in CSS -->
    </div>

    <div class="container testimonials-container">

        <!-- Floating Testimonial Card -->
        <div class="testimonial-card-wrapper animate-on-scroll animate-from-right animate-float">
            <div class="testimonial-card">
                <div class="testimonial-content-slider">
                    <!-- Dynamic Content will be injected here -->
                    <div class="testimonial-slide active" id="testimonial-active">
                        <h3 class="testimonial-heading">Altamente profesional.</h3>
                        <p class="testimonial-text">
                            Somos una firma de capital de crecimiento que impulsa a una nueva generación de visionarios
                            extraordinarios. Impulsamos marcas y soluciones tecnológicas que hacen nuestras vidas más
                            saludables, felices y cómodas.
                        </p>

                        <div class="testimonial-user">
                            <div class="user-avatar">
                                <img src="assets/images/testimonial-profile.jpg" alt="Usuario">
                            </div>
                            <div class="user-info">
                                <h4 class="user-name">Martín Bailey</h4>
                                <span class="user-role">DIRECTOR DE FINANZAS</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Navigation Controls (The "floating" tab) -->
                <div class="testimonial-controls">
                    <button class="nav-btn prev-btn" onclick="changeTestimonial(-1)" aria-label="Anterior">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M19 12H5M12 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <button class="nav-btn next-btn" onclick="changeTestimonial(1)" aria-label="Siguiente">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M5 12h14M12 5l7 7-7 7" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Client Logos Section -->
    <div class="client-trust-section">
        <div class="container">
            <div class="trust-wrapper">
                <div class="client-logos-grid">
                    <span class="client-logo-text animate-on-scroll animate-scale-up stagger-1">THRIVE</span>
                    <span class="client-logo-text animate-on-scroll animate-scale-up stagger-2">CLASS</span>
                    <span class="client-logo-text animate-on-scroll animate-scale-up stagger-3">Branding</span>
                    <span class="client-logo-text animate-on-scroll animate-scale-up stagger-4">Grow</span>
                    <span class="client-logo-text animate-on-scroll animate-scale-up stagger-5">Hii</span>
                </div>
                <div class="trust-text animate-on-scroll animate-from-left stagger-6">
                    <p>Con la confianza y financiación de más<br><strong>de 800 empresas</strong></p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Inline Script for quick functionality, can be moved to external file later -->
<script>
    if (typeof testimonialsData === 'undefined') {
        var testimonialsData = [
            {
                title: "Altamente profesional.",
                text: "Somos una firma de capital de crecimiento que impulsa a una nueva generación de visionarios extraordinarios. Impulsamos marcas y soluciones tecnológicas que hacen nuestras vidas más saludables, felices y cómodas.",
                name: "Martín Bailey",
                role: "DIRECTOR DE FINANZAS",
                image: "assets/images/testimonial-profile.jpg"
            },
            {
                title: "Eficiencia comprobada.",
                text: "Human Group BPO ha transformado nuestra gestión de talento. Su capacidad para encontrar los perfiles adecuados en tiempo récord ha sido fundamental para nuestro crecimiento.",
                name: "Laura Gómez",
                role: "GERENTE DE RRHH",
                image: "assets/images/testimonial-profile.jpg" // Using same image for demo or placeholder
            },
            {
                title: "Socios estratégicos.",
                text: "Más que un proveedor, son un aliado en nuestra estrategia corporativa. La gestión de nómina es impecable y nos permite enfocarnos en nuestro core business.",
                name: "Carlos Rodríguez",
                role: "CEO - TECH SOLUTIONS",
                image: "assets/images/testimonial-profile.jpg"
            }
        ];

        var currentTestimonialIndex = 0;

        function changeTestimonial(direction) {
            currentTestimonialIndex += direction;

            if (currentTestimonialIndex >= testimonialsData.length) {
                currentTestimonialIndex = 0;
            } else if (currentTestimonialIndex < 0) {
                currentTestimonialIndex = testimonialsData.length - 1;
            }

            const data = testimonialsData[currentTestimonialIndex];
            const slide = document.getElementById('testimonial-active');

            // Simple fade out/in effect
            slide.style.opacity = '0';
            slide.style.transform = 'translateX(20px)';

            setTimeout(() => {
                slide.querySelector('.testimonial-heading').textContent = data.title;
                slide.querySelector('.testimonial-text').textContent = data.text;
                slide.querySelector('.user-name').textContent = data.name;
                slide.querySelector('.user-role').textContent = data.role;
                slide.querySelector('.user-avatar img').src = data.image; // If we had different images

                slide.style.opacity = '1';
                slide.style.transform = 'translateX(0)';
            }, 300);
        }
    }
</script>